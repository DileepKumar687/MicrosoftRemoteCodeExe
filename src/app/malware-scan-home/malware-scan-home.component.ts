import { Component, OnInit, OnChanges, DoCheck, AfterViewInit, AfterContentInit, AfterViewChecked, AfterContentChecked, OnDestroy, SimpleChanges, ViewChild, ElementRef, QueryList, ViewChildren } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { BadgeComponent } from '../badge/badge.component';
import { FilesdataService } from '../core/filesdata/filesdata.service';

@Component({
  selector: 'app-malware-scan-home',
  templateUrl: './malware-scan-home.component.html',
  styleUrls: ['./malware-scan-home.component.scss']
})
export class MalwareScanHomeComponent implements AfterViewInit {



  @ViewChildren(BadgeComponent)
  badges:QueryList<BadgeComponent>;

  filesCount: number[] = [];
  counter = 5;
  colorclass = "card-header-info";
  order = 1;
  
  constructor(private http: HttpClient, private filedata: FilesdataService) {
    console.log('I am from constructor()!! and my order::::' + this.order);
    this.order++;
    setInterval(() => {
      this.counter=7;
      this.colorclass = "card-header-warning";
      // console.log("Timeout Executed");
    },2000);

    console.log("badgeElement consructor :::::::::::::::",this.badges);
  }

  ngAfterViewInit(): void {
    console.log('badgeElement AfterViewInit :::::::::::::::', this.badges);
    setTimeout(() => {
      this.colorclass = "card-header-warning";
      this.filesCount.push(this.filedata.queuedFiles.length);
      this.filesCount.push(this.filedata.scannedFiles.length);
      this.filesCount.push(this.filedata.quarantineFiles.length);
      // console.log("Timeout Executed");
    },2000);
 
  }


}
